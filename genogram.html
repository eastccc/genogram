<!DOCTYPE html>
<html>  
  <head>  
        <meta charset="utf-8">  
        <title>demo</title>  

  </head> 
<body>
    <script src="js/svg.min.js"></script>
  <script src="js/genogram.js"></script>
  <script src="js/saveSvgAsPng.js"></script>
  <div style="height:30px;width:300px;"></div>
  <div class="box" id="box">
    
    <!-- <div><button id="savepng">保存为图片</button></div> -->
    <div id="genogram"></div>
    <!-- <div id ="mask"></div> -->
  </div>


<div id="png"></div>
<style type="text/css">
#mask{ width: 100%; height: 100%; background: black;position: absolute;top: 0; left:0;z-index: 99999;opacity: 0.3; text-align: center;line-height: 100%;display: none;}
#mask img{ width: 32px; height: 32px;position: relative;top: 50%;margin-top: -16px;}


  .box button{  color: #fff;  background-color: #5cb85c;  border-color: #4cae4c;  padding: 2px 3px;  z-index: 33;top:10px;}
  /*.box{ width: 800px; height: 600px;overflow: hidden;position: relative;padding: 0;margin: 0;}*/
  #cmenu{ width: 180px;height: auto;border: 1px solid #ddd;position: absolute;z-index: 999;left: 0;top: 0;background: #fff;}
  #cmenu ul{padding: 0;margin: 0}
  #cmenu li{list-style-type: none;width: 100%;height: 30px;line-height: 30px;}
  #cmenu li a{width: 92%;padding-left: 8%; display: block; text-decoration: none;font-size: 14px;color: #000;color: #666;}
  #cmenu li a:hover{background: #eee;}
  /*#genogram{width: 98.5%;height: 98.5%;border: 4px solid #333;overflow: auto;position: relative;}*/
</style>

<script type="text/javascript">


var json = [
  [
    {
      id:'01',                           //自己的id
      name:'尼牙孜·阿不都拉',            // 名称
      fid:'',                           // 父亲的id
      mid:'',                           // 母亲id                        
      pid:'01p',                           // 配偶id
      cid:["11","12","13"],             // 后代id
      bid:["01"],                       // 同级id
      imgurl:"img/01.jpg",                 
      relation:"户主",
      record : "橙色_在逃人员，红色_特殊群体"
    }
    ,{
      id:'01p',
      name:'热依汉·热西提',
      fid:'',
      mid:'',
      pid:'01',
      cid:["11","12","13"],
      bid:["01p"],
      imgurl:"img/15.jpg",
      relation:"妻子",
      record : ""
    }
    ,{
      id:'01pp',
      name:'热依汉·热西提',
      fid:'',
      mid:'',
      pid:'01',
      cid:["11","12","13"],
      bid:["01pp"],
      imgurl:"img/15.jpg",
      relation:"妻子",
      record : ""
    }
    ],
  [
    {
      id:'11',
      name:'巴哈提古丽',
     
      fid:'01',
      mid:'01p',
      pid:'11p',
      cid:["24","25","26"],
      bid:["11","12","13","14"],
      imgurl:"img/11.jpg",
      relation:"儿子",
      record : ""
    },{
      id:'11p',
      name:'巴哈提古丽',
      fid:'',
      mid:'',
      pid:'11',
      cid:["24","25","26"],
      bid:["11p"],
      imgurl:"img/14.jpg",
      relation:"儿媳",
      record : "红色_特殊群体"
    },{
      id:'12',
      name:'加马力·艾买提',
     
      fid:'01',
      mid:'01p',
      pid:'',
      cid:["22"],
      bid:["11","12","13","14"],
      imgurl:"img/42.jpg",
      relation:"女儿",
      record : ""
    },

    {
      id:'13',
      name:'艾山·阿不都如',
     
      fid:'01',
      mid:'01p',
      pid:'',
      cid:[],
      bid:["11","12","13","14"],
      imgurl:"img/12.jpg",
      relation:"儿子",
      record : ""
    },{
      id:'14',
      name:'吐拉汗·吐尔迪',
     
      fid:'01',
      mid:'01p',
      pid:'14p',
      cid:["22","23"],
      bid:["11","12","13","14"],
      imgurl:"img/22.jpg",
      relation:"儿子",
      record : ""
    },{
      id:'14p',
      name:'赛比热·如则尼亚孜',
     
      fid:'',
      mid:'',
      pid:'14',
      cid:["22","23"],
      bid:["14p"],
      imgurl:"img/24.jpg",
      relation:"儿媳",
      record : ""
    }],
  [
    {
      id:'24',
      name:'努尔顿·依米拉',
     
      fid:'11',
      mid:'11p',
      pid:'',
      cid:[],
      bid:["24","25","26"],
      imgurl:"img/13.jpg",
      relation:"孙子",
      record : ""
    },{
      id:'25',
      name:'努尔顿·依米拉',
     
      fid:'11',
      mid:'11p',
      pid:'',
      cid:[],
      bid:["24","25","26"],
      imgurl:"img/43.jpg",
      relation:"孙子",
      record : ""
    },{
      id:'26',
      name:'努尔顿·依米拉',
     
      fid:'11',
      mid:'11p',
      pid:'',
      cid:[],
      bid:["24","25","26"],
      imgurl:"img/23.jpg",
      relation:"孙子",
      record : ""
    },{
      id:'21',
      name:'努尔顿·依米拉',
     
      fid:'12',
      mid:'',
      pid:'21p',
      cid:["31","31","33","34"],
      bid:["21"],
      imgurl:"img/21.jpg",
      relation:"孙子",
      record : ""
    },{
      id:'21p',
      name:'努尔顿·米拉',
     
      fid:'',
      mid:'',
      pid:'21',
      cid:["31","31","33","34"],
      bid:["21p"],
      imgurl:"img/24.jpg",
      relation:"孙媳",
      record : ""
    },{
      id:'22',
      name:'艾合麦提江',
     
      fid:'14',
      mid:'14p',
      pid:'',
      cid:[],
      bid:["22","23"],
      imgurl:"img/21.jpg",
      relation:"孙子",
      record : ""
    },{
      id:'23',
      name:'阿依乃再?麦麦提',
     
      fid:'14',
      mid:'14p',
      pid:'',
      cid:[],
      bid:["22","23"],
      imgurl:"img/21.jpg",
      relation:"孙子",
      record : ""
    }],[
    {
      id:'31',
      name:'阿依乃再?麦麦提',
     
      fid:'21',
      mid:'21p',
      pid:'',
      cid:[],
      bid:["31","32","33","34"],
      imgurl:"img/41.jpg",
      relation:"曾孙",
      record : ""
    },{
      id:'32',
      name:'阿依乃再?麦麦提',
     
      fid:'21',
      mid:'21p',
      pid:'',
      cid:[],
      bid:["31","32","33","34"],
      imgurl:"img/41.jpg",
      relation:"曾孙",
      record : ""
    },{
      id:'33',
      name:'阿依乃再?麦麦提',
     
      fid:'21',
      mid:'21p',
      pid:'',
      cid:[],
      bid:["31","32","33","34"],
      imgurl:"img/41.jpg",
      relation:"曾孙",
      record : ""
    },{
      id:'34',
      name:'阿依乃再?麦麦提',
     
      fid:'21',
      mid:'21p',
      pid:'34p',
      cid:[],
      bid:["31","32","33","34"],
      imgurl:"img/41.jpg",
      relation:"曾孙",
      record : ""
    },{
      id:'34p',
      name:'阿依乃再?麦麦提',
     
      fid:'',
      mid:'',
      pid:'34',
      cid:[],
      bid:["34p"],
      imgurl:"img/41.jpg",
      relation:"曾孙",
      record : ""
    }] 
  ];
// var json = [
//     [
//         {
//             "id": "43367819090701234",
//             "name": "买买提",
//             url:[
//               {name :"1111",url :"http://www.baidu.com/"},
//               {name :"1111",url :"http://www.baidu.com/"},
//               {name :"1111",url :"http://www.baidu.com/"}
//               ],
//             // "fid": "0bd77cd0f19343dd9df08a6f7a90febd",
//             "fid": "",
//             "mid": "",
//             "pid": "",
//             "cid": [
//                 "43367819090701235",
//                 "43367819090701237"
//             ],
//             "bid": [
//                 "43367819090701234"
//             ],
//             "usemenu" :true, 
//             "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701234",
//             "relation": "户主",
//             "record": ""
//         }
//     ],
//     [
//         {
//             "id": "43367819090701235",
//             "name": "买一",
//             url:[{name :"去百度",url :"http://www.baidu.com/"},{name :"去腾讯",url :"http://www.qq.com/"}],
//             "fid": "43367819090701234",
//             "mid": "",
//             "pid": "",
//             "cid": [
//                 "43367819090701239",
//                 "43367819090701238"
//             ],
//             "bid": [
//                 "43367819090701235",
//                 "43367819090701237"
//             ],
//             "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701235",
//             "relation": "儿子",
//             "record": ""
//         },
//         {
//             "id": "43367819090701237",
//             "name": "买三",
//            url:[{name :"1111",url :"http://www.baidu.com/"}],
//             "fid": "43367819090701234",
//             "mid": "",
//             "pid": "",
//             "cid": [],
//             "bid": [
//                 "43367819090701235",
//                 "43367819090701237"
//             ],
//             "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701237",
//             "relation": "女儿",
//             "record": ""
//         }
//     ],
//     [
//         {
//             "id": "43367819090701238",
//             "name": "买买五",
//            url:[{name :"1111",url :"http://www.baidu.com/"}],
//             "fid": "43367819090701235",
//             "mid": "",
//             "pid": "",
//             "cid": [],
//             "bid": [
//                 "43367819090701239",
//                 "43367819090701238"
//             ],
//             "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701238",
//             "relation": "儿子",
//             "record": ""
//         },
//         {
//             "id": "43367819090701239",
//             "name": "买买四",
//            url:[{name :"1111",url :"http://www.baidu.com/"}],
//             "fid": "43367819090701235",
//             "mid": "",
//             "pid": "",
//             "cid": [
//                 "43367819090701335",
//                 "43367819090701334",
//                 "43367819090681335",
//                 "43367819090721335",
//                 "43367819090651335",
//                 "43367819090701336"
//             ],
//             "bid": [
//                 "43367819090701239",
//                 "43367819090701238"
//             ],
//             "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701239",
//             "relation": "儿子",
//             "record": ""
//         }
//     ],
//     [
//         {
//             "id": "43367819090651335",
//             "name": "",
//            url:[{name :"1111",url :"http://www.baidu.com/"}],
//             "fid": "43367819090701239",
//             "mid": "",
//             "pid": "",
//             "cid": [],
//             "bid": [
//                 "43367819090701335",
//                 "43367819090701334",
//                 "43367819090681335",
//                 "43367819090721335",
//                 "43367819090651335",
//                 "43367819090701336"
//             ],
//             "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090651335",
//             "relation": "表哥",
//             "record": ""
//         },
//         {
//             "id": "43367819090681335",
//             "name": "",
//            url:[{name :"1111",url :"http://www.baidu.com/"}],
//             "fid": "43367819090701239",
//             "mid": "",
//             "pid": "",
//             "cid": [],
//             "bid": [
//                 "43367819090701335",
//                 "43367819090701334",
//                 "43367819090681335",
//                 "43367819090721335",
//                 "43367819090651335",
//                 "43367819090701336"
//             ],
//             "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090681335",
//             "relation": "同行业",
//             "record": ""
//         },
//         {
//             "id": "43367819090701334",
//             "name": "热力",
//            url:[{name :"1111",url :"http://www.baidu.com/"}],
//             "fid": "43367819090701239",
//             "mid": "",
//             "pid": "",
//             "cid": [
//                 "43367819090701365",
//                 "43362222090701365"
//             ],
//             "bid": [
//                 "43367819090701335",
//                 "43367819090701334",
//                 "43367819090681335",
//                 "43367819090721335",
//                 "43367819090651335",
//                 "43367819090701336"
//             ],
//             "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701334",
//             "relation": "户主",
//             "record": ""
//         },
//         {
//             "id": "43367819090701335",
//             "name": "",
//            url:[{name :"1111",url :"http://www.baidu.com/"}],
//             "fid": "43367819090701239",
//             "mid": "",
//             "pid": "",
//             "cid": [],
//             "bid": [
//                 "43367819090701335",
//                 "43367819090701334",
//                 "43367819090681335",
//                 "43367819090721335",
//                 "43367819090651335",
//                 "43367819090701336"
//             ],
//             "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701335",
//             "relation": "儿子",
//             "record": ""
//         },
//         {
//             "id": "43367819090701336",
//             "name": "",
//            url:[{name :"1111",url :"http://www.baidu.com/"}],
//             "fid": "43367819090701239",
//             "mid": "",
//             "pid": "",
//             "cid": [],
//             "bid": [
//                 "43367819090701335",
//                 "43367819090701334",
//                 "43367819090681335",
//                 "43367819090721335",
//                 "43367819090651335",
//                 "43367819090701336"
//             ],
//             "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701336",
//             "relation": "儿子",
//             "record": ""
//         },
//         {
//             "id": "43367819090721335",
//             "name": "",
//            url:[{name :"1111",url :"http://www.baidu.com/"}],
//             "fid": "43367819090701239",
//             "mid": "",
//             "pid": "",
//             "cid": [
//                 "43367819090701324"
//             ],
//             "bid": [
//                 "43367819090701335",
//                 "43367819090701334",
//                 "43367819090681335",
//                 "43367819090721335",
//                 "43367819090651335",
//                 "43367819090701336"
//             ],
//             "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090721335",
//             "relation": "邻居",
//             "record": ""
//         }
//     ],
//     [
//         {
//             "id": "43367819090701365",
//             "name": "sdf",
//            url:[{name :"1111",url :"http://www.baidu.com/"}],
//             "fid": "43367819090701334",
//             "mid": "",
//             "pid": "",
//             "cid": [],
//             "bid": [
//                 "43367819090701365",
//                 "43362222090701365",
//                 "43111111111111165",
//                 "aaaaaaaaaaaa01365"
//             ],
//             "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701365",
//             "relation": "女儿",
//             "record": ""
//         },
//         {
//             "id": "43362222090701365",
//             "name": "aaaa",
//            url:[{name :"1111",url :"http://www.baidu.com/"}],
//             "fid": "43367819090701334",
//             "mid": "",
//             "pid": "",
//             "cid": [],
//             "bid": [
//                 "43367819090701365",
//                 "43362222090701365",
//                 "43111111111111165",
//                 "aaaaaaaaaaaa01365"
//             ],
//             "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701365",
//             "relation": "女儿",
//             "record": ""
//         },
//         {
//             "id": "43111111111111165",
//             "name": "sdfs",
//            url:[{name :"1111",url :"http://www.baidu.com/"}],
//             "fid": "43367819090701334",
//             "mid": "",
//             "pid": "",
//             "cid": [],
//             "bid": [
//                 "43367819090701365",
//                 "43362222090701365",
//                 "43111111111111165",
//                 "aaaaaaaaaaaa01365"
//             ],
//             "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701365",
//             "relation": "女儿",
//             "record": ""
//         },
//         {
//             "id": "aaaaaaaaaaaa01365",
//             "name": "qwes",
//             "url" :[{
//               "name":"qqq",
//               "url" : "1111"
//             },{

//             }],
//             "fid": "43367819090701334",
//             "mid": "",
//             "pid": "",
//             "cid": [],
//             "bid": [
//                 "43367819090701365",
//                 "43362222090701365",
//                 "43111111111111165",
//                 "aaaaaaaaaaaa01365"
//             ],
//             "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701365",
//             "relation": "女儿1",
//             "record": ""
//         },
//         {
//             "id": "43367819090701324",
//             "name": "",
//            url:[{name :"1111",url :"http://www.baidu.com/"}],
//             "fid": "43367819090721335",
//             "mid": "",
//             "pid": "",
//             "cid": [
//                 "43367819090701236"
//             ],
//             "bid": [
//                 "43367819090701324"
//             ],
//             "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701324",
//             "relation": "表妹",
//             "record": ""
//         }
//     ],
//     [
//         {
//             "id": "43367819090701236",
//             "name": "买二",
//            url:[{name :"1111",url :"http://www.baidu.com/"}],
//             "fid": "43367819090701324",
//             "mid": "",
//             "pid": "",
//             "cid": [],
//             "bid": [
//                 "43367819090701236"
//             ],
//             "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701236",
//             "relation": "女儿",
//             "record": ""
//         }
//     ]
// ];
// var json2 = [
//     [
//         {
//             "id": "43367819090701234",
//             "name": "买买提",
//             url:[
//               {name :"1111",url :"http://www.baidu.com/"},
//               {name :"1111",url :"http://www.baidu.com/"},
//               {name :"1111",url :"http://www.baidu.com/"}
//               ],
//             // "fid": "0bd77cd0f19343dd9df08a6f7a90febd",
//             "fid": "",
//             "mid": "",
//             "pid": "",
//             "cid": [
//                 "43367819090701235",
//                 "43367819090701237"
//             ],
//             "bid": [
//                 "43367819090701234"
//             ],
//             "usemenu" :true, 
//             "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701234",
//             "relation": "户主",
//             "record": ""
//         }
//     ],
//     [
//         {
//             "id": "43367819090701235",
//             "name": "买一",
//             url:[{name :"去百度",url :"http://www.baidu.com/"},{name :"去腾讯",url :"http://www.qq.com/"}],
//             "fid": "43367819090701234",
//             "mid": "",
//             "pid": "",
//             "cid": [
//                 "43367819090701239",
//                 "43367819090701238"
//             ],
//             "bid": [
//                 "43367819090701235",
//                 "43367819090701237"
//             ],
//             "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701235",
//             "relation": "儿子",
//             "record": ""
//         },
//         {
//             "id": "43367819090701237",
//             "name": "买三",
//            url:[{name :"1111",url :"http://www.baidu.com/"}],
//             "fid": "43367819090701234",
//             "mid": "",
//             "pid": "",
//             "cid": [],
//             "bid": [
//                 "43367819090701235",
//                 "43367819090701237"
//             ],
//             "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701237",
//             "relation": "女儿",
//             "record": ""
//         }
//     ],
//     [
//         {
//             "id": "43367819090701238",
//             "name": "买买五",
//            url:[{name :"1111",url :"http://www.baidu.com/"}],
//             "fid": "43367819090701235",
//             "mid": "",
//             "pid": "",
//             "cid": [],
//             "bid": [
//                 "43367819090701239",
//                 "43367819090701238"
//             ],
//             "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701238",
//             "relation": "儿子",
//             "record": ""
//         },
//         {
//             "id": "43367819090701239",
//             "name": "买买四",
//            url:[{name :"1111",url :"http://www.baidu.com/"}],
//             "fid": "43367819090701235",
//             "mid": "",
//             "pid": "",
//             "cid": [
//                 "43367819090701334"
//             ],
//             "bid": [
//                 "43367819090701239",
//                 "43367819090701238"
//             ],
//             "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701239",
//             "relation": "儿子",
//             "record": ""
//         }
//     ],
//     [

//         {
//             "id": "43367819090701334",
//             "name": "热力",
//            url:[{name :"1111",url :"http://www.baidu.com/"}],
//             "fid": "43367819090701239",
//             "mid": "",
//             "pid": "",
//             "cid": [
//                 "43367819090701365"
//             ],
//             "bid": [
//                 "43367819090701334"
//             ],
//             "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701334",
//             "relation": "户主",
//             "record": ""
//         }
//     ],
//     [
//         {
//             "id": "43367819090701365",
//             "name": "sdf",
//            url:[{name :"1111",url :"http://www.baidu.com/"}],
//             "fid": "43367819090701334",
//             "mid": "",
//             "pid": "",
//             "cid": [],
//             "bid": [
//                 "43367819090701365"
//             ],
//             "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701365",
//             "relation": "女儿",
//             "record": ""
//         }
//     ]
// ];




json = [
  [
    {
      "usemenu": false,
      "id": "654123198311230024",
      "name": "拉比彦·太来提",
      "fid": "0513fb41709a4180ac5b78e1bb082f2e",
      "mid": "",
      "pid": "412825195708084513",
      "cid": [
        "413026197503126612"
      ],
      "bid": [
        "654123198311230024"
      ],
      "relations" : [{
        "RName" : "亲戚关系",
        "id" : "412825195708084513"
      },{
        "RName" : "父子关系",
        "id" : "41282519570822"
      },{
        "RName" : "父子关系",
        "id" : "413026197503126612"
      },{
        "RName" : "父子关系",
        "id" : "653125197103083012"
      },{
        "RName" : "父子关系",
        "id" : "622427198801156845"
      }],
      "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=654123198311230024",
      "relation": "户主",
      "record": "橙色_特殊群体"
    },
    {
      "id": "412825195708084513",
      "name": "刘虎全",
      "record": "",
      "relation": "配偶",
      "bid": ["412825195708084513"],
      "relations" : [{
        "RName" : "父子关系亲亲",
        "id" : "41282519570822"
      },{
        "RName" : "父子关系",
        "id" : "653125197103083012"
      }],
      "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=412825195708084513",
      "fid": "",
      "mid": "",
      "pid": "654123198311230024",
      "cid": [
        "413026197503126612"
      ]
    }
    ,
    {
      "id": "41282519570822",
      "name": "刘虎全",
      "record": "",
      "relation": "配偶",
      "bid": ["412825195708084513"],
      "relations" : [{
        "RName" : "亲戚关系",
        "id" : "622427198801156845"
      }],
      "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=412825195708084513",
      "fid": "",
      "mid": "",
      "pid": "654123198311230024",
      "cid": [
        "413026197503126612"
      ]
    }
  ],
  [
    {
      "usemenu": false,
      "id": "413026197503126612",
      "name": "张月军",
      "fid": "654123198311230024",
      "mid": "412825195708084513",
      "pid": "",
      "cid": [
        "653125197103083012"
      ],
      "bid": [
        "413026197503126612"
      ],
      "relations" : [{
        "RName" : "父子关系",
        "id" : "654123198311230024"
      },{
        "RName" : "还是朋友",
        "id" : "41282519570822"
      },{
        "RName" : "曾经是朋友",
        "id" : "622427198801156845"
      }],
      "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=413026197503126612",
      "relation": "户主",
      "record": "橙色_重点人员"
    }
  ],
  [
    {
      "usemenu": false,
      "id": "653125197103083012",
      "name": "马木提·热合曼",
      "fid": "413026197503126612",
      "mid": "",
      "pid": "622427198801156845",
      "cid": [],
      "bid": [
        "653125197103083012"
      ],
      "relations" : [],
      "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=653125197103083012",
      "relation": "儿子",
      "record": ""
    },
    {
      "id": "622427198801156845",
      "name": "朱喜英",
      "record": "",
      "relation": "配偶",
      "bid": ["622427198801156845"],
      "relations" : [{
        "RName" : "可能不是朋友",
        "id" : "654123198311230024"
      },{
        "RName" : "可能是朋友",
        "id" : "41282519570822"
      },{
        "RName" : "情侣",
        "id" : "412825195708084513"
      }],
      "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=622427198801156845",
      "fid": "",
      "mid": "",
      "pid": "653125197103083012",
      "cid": []
    }
  ]
];
// var json = "";
var opt = {
  data : json,
  id : "genogram",
  coordX : 180,   //节点x轴间距
  coordY : 280,   //节点y轴间距
  selfH : 205,    //节点高度
  imgW : 100,      //图片宽高
  saveAsPng : true,
  currentId:"1111",
  pngNameRule : "name.png",
  useVtoH : true,
  useViewRelationBtn : true, //显示按关系查看按钮
  showRelation : true, //使用关系连线
  offsetTop : 40,
  offsetLeft : 25,
  desc : "111dde家谱",   //家谱说明
  collec : {
    name : "采集人采集人", //采集人
    time : "2016-6-30 15:38:40"
  },
  listener : function(obj,msg){

    // obj 点击对象, msg 对象携带的数据
    // alert(1)
  },
  menuTo :function(obj,id){
    // console.log(obj.innerText,id)
    // location.href="http://www.baidu.com/";
  },
  relationTo :function(){
    alert(1)
  }
};
var geo = new Genogram(opt);
geo.changeDesc("aaa")
</script> 
     
</body>  
</html> 
