<!DOCTYPE html>
<html>  
  <head>  
        <meta charset="utf-8">  
        <title>demo</title>  

  </head> 
<body>
  <script type="text/javascript" src="js/svg.min.js"></script>
  <script type="text/javascript" src="js/genogram.js"></script>
  <script type="text/javascript" src="js/saveSvgAsPng.js"></script>
  <script type="text/javascript" src="js/svg.filter.js"></script>


  <div style="height:30px;width:300px;"></div>
  <div style="width:800px;height:800px;">
  <div class="box" id="box">
    
    <!-- <div><button id="savepng">保存为图片</button></div> -->
    <div id="genogram"></div>
    <!-- <div id ="mask"></div> -->
  </div>
  </div>


<div id="png"></div>
<style type="text/css">
#mask{ width: 100%; height: 100%; background: black;position: absolute;top: 0; left:0;z-index: 99999;opacity: 0.3; text-align: center;line-height: 100%;display: none;}
#mask img{ width: 32px; height: 32px;position: relative;top: 50%;margin-top: -16px;}


  .box button{  color: #fff;  background-color: #5cb85c;  border-color: #4cae4c;  padding: 2px 3px;  z-index: 33;top:10px;cursor: pointer;}
  /*.box{ width: 800px; height: 900px;overflow: auto;position: relative;padding: 0;margin: 0;}*/
  #cmenu{ width: 180px;height: auto;border: 1px solid #ddd;position: absolute;z-index: 999;left: 0;top: 0;background: #fff;}
  #cmenu ul{padding: 0;margin: 0}
  #cmenu li{list-style-type: none;width: 100%;height: 30px;line-height: 30px; border-bottom: 1px solid #eee;}
  #cmenu li a{width: 92%;padding-left: 8%; display: block; text-decoration: none;font-size: 14px;color: #000;color: #666;overflow: hidden;text-overflow:ellipsis;white-space: nowrap;}
  #cmenu li a:hover{background: #eee;}
  /*#genogram{width: 98.5%;height: 98.5%;border: 4px solid #333;overflow: auto;position: relative;}*/
</style>

<script type="text/javascript">


var json = [
  [
    {
      id:'01',                           //自己的id
      name:'尼牙孜·阿不都拉',            // 名称
      imgurl:"img/01.jpg",                 
      relation:"户主",
      relations:[],
       url:[
        {name :"1111",url :"http://www.baidu.com/"},
        {name :"1111",url :"http://www.baidu.com/"},
        {name :"1111",url :"http://www.baidu.com/"}
        ],
              usemenu : true,
      record : "橙色_在逃人员，红色_特殊群体"
    }
    ]

  //   ,
  // [
  //   {
  //     id:'11',
  //     name:'巴哈提古丽',
  //     imgurl:"img/11.jpg",
  //     relation:"儿子",
  //     relations:[],
  //     record : ""
  //   },{
  //     id:'11p',
  //     name:'巴哈提古丽',
  //     bid:["11p"],
  //     imgurl:"img/14.jpg",
  //     relation:"儿媳",
  //     relations:[],
  //     record : "红色_特殊群体"
  //   },{
  //     id:'12',
  //     name:'加马力·艾买提',
  //     imgurl:"img/42.jpg",
  //     relation:"女儿",
  //     relations:[],
  //     record : ""
  //   },

  //   {
  //     id:'13',
  //     name:'艾山·阿不都如',
  //     imgurl:"img/12.jpg",
  //     relation:"儿子",
  //     relations:[],
  //     record : ""
  //   },{
  //     id:'14',
  //     name:'吐拉汗·吐尔迪',
  //     imgurl:"img/22.jpg",
  //     relation:"儿子",
  //     relations:[],
  //     record : ""
  //   },
  //   {
  //     id:'14p',
  //     name:'赛比热·如则尼亚孜',
  //     imgurl:"img/24.jpg",
  //     relation:"儿媳",
  //     relations:[],
  //     record : ""
  //   }],
  // [
  //   {
  //     id:'24',
  //     name:'努尔顿·依米拉',
  //     imgurl:"img/13.jpg",
  //     relation:"孙子",
  //     relations:[],
  //     record : ""
  //   },{
  //     id:'25',
  //     name:'努尔顿·依米拉',
  //     imgurl:"img/43.jpg",
  //     relation:"孙子",
  //     relations:[],
  //     record : ""
  //   },{
  //     id:'26',
  //     name:'努尔顿·依米拉',
  //     imgurl:"img/23.jpg",
  //     relation:"孙子",
  //     relations:[],
  //     record : ""
  //   },{
  //     id:'21',
  //     name:'努尔顿·依米拉',
  //     imgurl:"img/21.jpg",
  //     relation:"孙子",
  //     relations:[],
  //     record : ""
  //   },{
  //     id:'21p',
  //     name:'努尔顿·米拉',
  //     imgurl:"img/24.jpg",
  //     relation:"孙媳",
  //     relations:[],
  //     record : ""
  //   },{
  //     id:'22',
  //     name:'艾合麦提江',
  //     imgurl:"img/21.jpg",
  //     relation:"孙子",
  //     relations:[],
  //     record : ""
  //   },
  //   {
  //     id:'23',
  //     name:'阿依乃再?麦麦提',
  //     imgurl:"img/21.jpg",
  //     relation:"孙子",
  //     relations:[],
  //     record : ""
  //   }]
  ];

var json = [
    [
        {
            "id": "43367819090701234",
            "name": "买买提",
            url:[
              {name :"1111",url :"http://www.baidu.com/"},
              {name :"1111",url :"http://www.baidu.com/"},
              {name :"1111",url :"http://www.baidu.com/"}
              ],
            // "fid": "0bd77cd0f19343dd9df08a6f7a90febd",
            "fid": "",
            "mid": "",
            "pid": "",
            "cid": [
                "43367819090701235",
                "43367819090701237"
            ],
            "bid": [
                "43367819090701234"
            ],
            "usemenu" :false,
            // "relations":[],
            "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701234",
            "relation": "户主",
            "record": ""
        }
    ],
    [
        {
            "id": "43367819090701235",
            "name": "买一",
            url:[{name :"去百度",url :"http://www.baidu.com/"},{name :"去腾讯",url :"http://www.qq.com/"}],
            "fid": "43367819090701234",
            "mid": "",
            "pid": "",
            "cid": [
                "43367819090701239",
                "43367819090701238"
            ],
            "bid": [
                "43367819090701235",
                "43367819090701237"
            ],
            // "relations":[],
            "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701235",
            "relation": "儿子",
            "record": ""
        },
        {
            "id": "43367819090701237",
            "name": "买三",
           url:[{name :"1111",url :"http://www.baidu.com/"},{name :"1111",url :"http://www.baidu.com/"},{name :"1111",url :"http://www.baidu.com/"},{name :"1111",url :"http://www.baidu.com/"}],
            "fid": "43367819090701234",
            "mid": "",
            "pid": "",
            "cid": [],
            "relations":[],
            "bid": [
                "43367819090701235",
                "43367819090701237"
            ],
            "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701237",
            "relation": "女儿",
            "record": ""
        }
    ],
    [
        {
            "id": "43367819090701238",
            "name": "买买五",
           url:[{name :"1111",url :"http://www.baidu.com/"}],
            "fid": "43367819090701235",
            "mid": "",
            "pid": "",
            "cid": [],
            "relations":[],
            "bid": [
                "43367819090701239",
                "43367819090701238"
            ],
            "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701238",
            "relation": "儿子",
            "record": ""
        },
        {
            "id": "43367819090701239",
            "name": "买买四",
           url:[{name :"1111",url :"http://www.baidu.com/"}],
            "fid": "43367819090701235",
            "mid": "",
            "pid": "",
            "cid": [
                "43367819090701335",
                "43367819090701334",
                "43367819090681335",
                "43367819090721335",
                "43367819090651335",
                "43367819090701336"
            ],
            "relations":[],
            "bid": [
                "43367819090701239",
                "43367819090701238"
            ],
            "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701239",
            "relation": "儿子",
            "record": ""
        }
    ],
    [
        {
            "id": "43367819090651335",
            "name": "",
           url:[{name :"1111",url :"http://www.baidu.com/"}],
            "fid": "43367819090701239",
            "mid": "",
            "pid": "",
            "cid": [],
            "relations":[],
            "bid": [
                "43367819090701335",
                "43367819090701334",
                "43367819090681335",
                "43367819090721335",
                "43367819090651335",
                "43367819090701336"
            ],
            "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090651335",
            "relation": "表哥",
            "record": ""
        },
        {
            "id": "43367819090681335",
            "name": "",
           url:[{name :"1111",url :"http://www.baidu.com/"}],
            "fid": "43367819090701239",
            "mid": "",
            "pid": "",
            "cid": [],
            "relations":[],
            "bid": [
                "43367819090701335",
                "43367819090701334",
                "43367819090681335",
                "43367819090721335",
                "43367819090651335",
                "43367819090701336"
            ],
            "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090681335",
            "relation": "同行业",
            "record": ""
        },
        {
            "id": "43367819090701334",
            "name": "热力",
           url:[{name :"1111",url :"http://www.baidu.com/"}],
            "fid": "43367819090701239",
            "mid": "",
            "pid": "",
            "relations":[],
            "cid": [
                "43367819090701365",
                "43362222090701365"
            ],
            "bid": [
                "43367819090701335",
                "43367819090701334",
                "43367819090681335",
                "43367819090721335",
                "43367819090651335",
                "43367819090701336"
            ],
            "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701334",
            "relation": "户主",
            "record": ""
        },
        {
            "id": "43367819090701335",
            "name": "",
           url:[{name :"1111",url :"http://www.baidu.com/"}],
            "fid": "43367819090701239",
            "mid": "",
            "pid": "",
            "relations":[],
            "cid": [],
            "bid": [
                "43367819090701335",
                "43367819090701334",
                "43367819090681335",
                "43367819090721335",
                "43367819090651335",
                "43367819090701336"
            ],
            "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701335",
            "relation": "儿子",
            "record": ""
        },
        {
            "id": "43367819090701336",
            "name": "",
           url:[{name :"1111",url :"http://www.baidu.com/"}],
            "fid": "43367819090701239",
            "mid": "",
            "pid": "",
            "cid": [],
            "relations":[],
            "bid": [
                "43367819090701335",
                "43367819090701334",
                "43367819090681335",
                "43367819090721335",
                "43367819090651335",
                "43367819090701336"
            ],
            "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701336",
            "relation": "儿子",
            "record": ""
        },
        {
            "id": "43367819090721335",
            "name": "",
           url:[{name :"1111",url :"http://www.baidu.com/"}],
            "fid": "43367819090701239",
            "mid": "",
            "pid": "",
            "cid": [
                "43367819090701324"
            ],
            "relations":[],
            "bid": [
                "43367819090701335",
                "43367819090701334",
                "43367819090681335",
                "43367819090721335",
                "43367819090651335",
                "43367819090701336"
            ],
            "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090721335",
            "relation": "邻居",
            "record": ""
        }
    ],
    [
        {
            "id": "43367819090701365",
            "name": "sdf",
           url:[{name :"1111",url :"http://www.baidu.com/"}],
            "fid": "43367819090701334",
            "mid": "",
            "pid": "",
            "cid": [],
            "relations":[],
            "bid": [
                "43367819090701365",
                "43362222090701365",
                "43111111111111165",
                "aaaaaaaaaaaa01365"
            ],
            "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701365",
            "relation": "女儿",
            "record": ""
        },
        {
            "id": "43362222090701365",
            "name": "aaaa",
           url:[{name :"1111",url :"http://www.baidu.com/"}],
            "fid": "43367819090701334",
            "mid": "",
            "pid": "",
            "cid": [],
            "relations":[],
            "bid": [
                "43367819090701365",
                "43362222090701365",
                "43111111111111165",
                "aaaaaaaaaaaa01365"
            ],
            "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701365",
            "relation": "女儿",
            "record": ""
        },
        {
            "id": "43111111111111165",
            "name": "sdfs",
           url:[{name :"1111",url :"http://www.baidu.com/"}],
            "fid": "43367819090701334",
            "mid": "",
            "pid": "",
            "cid": [],
            "relations":[],
            "bid": [
                "43367819090701365",
                "43362222090701365",
                "43111111111111165",
                "aaaaaaaaaaaa01365"
            ],
            "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701365",
            "relation": "女儿",
            "record": ""
        },
        {
            "id": "aaaaaaaaaaaa01365",
            "name": "qwes",
            "url" :[{
              "name":"qqq",
              "url" : "1111"
            },{

            }],
            "fid": "43367819090701334",
            "mid": "",
            "pid": "",
            "cid": [],
            "relations":[],
            "bid": [
                "43367819090701365",
                "43362222090701365",
                "43111111111111165",
                "aaaaaaaaaaaa01365"
            ],
            "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701365",
            "relation": "女儿1",
            "record": ""
        },
        {
            "id": "43367819090701324",
            "name": "",
           url:[{name :"1111",url :"http://www.baidu.com/"}],
            "fid": "43367819090721335",
            "mid": "",
            "pid": "",
            "cid": [
                "43367819090701236"
            ],
            "relations":[],
            "bid": [
                "43367819090701324"
            ],
            "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701324",
            "relation": "表妹",
            "record": ""
        }
    ],
    [
        {
            "id": "43367819090701236",
            "name": "买二",
           url:[{name :"1111",url :"http://www.baidu.com/"}],
            "fid": "43367819090701324",
            "mid": "",
            "pid": "",
            "cid": [],
            "relations":[],
            "bid": [
                "43367819090701236"
            ],
            "usemenu" :true, "imgurl": "http://192.168.0.191:8085/ITAP/servlet/back/TPckS?type=cxXP2&ZJHM=43367819090701236",
            "relation": "女儿",
            "record": ""
        }
    ]
];
var json = [[{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "653122197104080092",
    "name": "玉荪·艾力",
    "fid": "0baa9d823621476dbf96a560b1aeaed7",
    "mid": "",
    "pid": "",
    "cid": ["653221198702021256", "652801197804013136", "652801197602173131"],
    "bid": ["653122197104080092"],
    "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=653122197104080092",
    "relation": "师傅",
    "record": ""
}], [{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "652801197602173131",
    "name": "阿布力米提·吾甫尔",
    "fid": "653122197104080092",
    "mid": "",
    "pid": "",
    "cid": ["652801201106193116", "652801198602233127", "652801197602173132"],
    "bid": ["653221198702021256", "652801197804013136", "652801197602173131"],
    "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=652801197602173131",
    "relation": "弟子",
    "record": ""
},
{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "652801197804013136",
    "name": "买买提·吾甫尔",
    "fid": "653122197104080092",
    "mid": "",
    "pid": "",
    "cid": [],
    "bid": ["653221198702021256", "652801197804013136", "652801197602173131"],
    "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=652801197804013136",
    "relation": "弟子",
    "record": ""
},
{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "653221198702021256",
    "name": "艾孜布拉·艾则孜",
    "fid": "653122197104080092",
    "mid": "",
    "pid": "",
    "cid": ["652801195510153142", "652801194706013112"],
    "bid": ["653221198702021256", "652801197804013136", "652801197602173131"],
    "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=653221198702021256",
    "relation": "弟子",
    "record": ""
}], [{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "652801197602173132",
    "name": "阿布力米提·吾甫尔",
    "fid": "652801197602173131",
    "mid": "",
    "pid": "",
    "cid": [],
    "bid": ["652801201106193116", "652801198602233127", "652801197602173132"],
    "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=652801197602173132",
    "relation": "弟子",
    "record": ""
},
{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "652801198602233127",
    "name": "古力坚乃提·吾甫尔",
    "fid": "652801197602173131",
    "mid": "",
    "pid": "",
    "cid": ["65312919901003083X", "653129196810050827", "653129196312200837", "653129200712150882"],
    "bid": ["652801201106193116", "652801198602233127", "652801197602173132"],
    "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=652801198602233127",
    "relation": "弟子",
    "record": ""
},
{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "652801201106193116",
    "name": "阿不都萨拉木·依布拉音",
    "fid": "652801197602173131",
    "mid": "",
    "pid": "",
    "cid": [],
    "bid": ["652801201106193116", "652801198602233127", "652801197602173132"],
    "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=652801201106193116",
    "relation": "弟子",
    "record": ""
},
{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "652801194706013112",
    "name": "吾甫尔·吐尔弟",
    "fid": "653221198702021256",
    "mid": "",
    "pid": "",
    "cid": [],
    "bid": ["652801195510153142", "652801194706013112"],
    "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=652801194706013112",
    "relation": "弟子",
    "record": ""
},
{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "652801195510153142",
    "name": "阿瓦汗·木沙",
    "fid": "653221198702021256",
    "mid": "",
    "pid": "",
    "cid": ["653129198804030845", "653129199102070820", "653129198911050833"],
    "bid": ["652801195510153142", "652801194706013112"],
    "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=652801195510153142",
    "relation": "弟子",
    "record": ""
}], [{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "653129198804030845",
    "name": "阿尔孜古力·威力",
    "fid": "652801195510153142",
    "mid": "",
    "pid": "",
    "cid": [],
    "bid": ["653129198804030845", "653129199102070820", "653129198911050833"],
    "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=653129198804030845",
    "relation": "弟子",
    "record": ""
},
{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "653129198911050833",
    "name": "玉苏批·威力",
    "fid": "652801195510153142",
    "mid": "",
    "pid": "",
    "cid": [],
    "bid": ["653129198804030845", "653129199102070820", "653129198911050833"],
    "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=653129198911050833",
    "relation": "弟子",
    "record": ""
},
{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "653129199102070820",
    "name": "开力比努尔·威力",
    "fid": "652801195510153142",
    "mid": "",
    "pid": "",
    "cid": [],
    "bid": ["653129198804030845", "653129199102070820", "653129198911050833"],
    "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=653129199102070820",
    "relation": "弟子",
    "record": ""
},
{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "653129196312200837",
    "name": "威力·如则",
    "fid": "652801198602233127",
    "mid": "",
    "pid": "",
    "cid": [],
    "bid": ["65312919901003083X", "653129196810050827", "653129196312200837", "653129200712150882"],
    "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=653129196312200837",
    "relation": "弟子",
    "record": ""
},
{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "653129196810050827",
    "name": "海尔古力·图迪",
    "fid": "652801198602233127",
    "mid": "",
    "pid": "",
    "cid": [],
    "bid": ["65312919901003083X", "653129196810050827", "653129196312200837", "653129200712150882"],
    "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=653129196810050827",
    "relation": "弟子",
    "record": ""
},
{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "65312919901003083X",
    "name": "艾孜提艾力·威力",
    "fid": "652801198602233127",
    "mid": "",
    "pid": "",
    "cid": [],
    "bid": ["65312919901003083X", "653129196810050827", "653129196312200837", "653129200712150882"],
    "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=65312919901003083X",
    "relation": "弟子",
    "record": ""
},
{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "653129200712150882",
    "name": "布麦尔亚木·威力",
    "fid": "652801198602233127",
    "mid": "",
    "pid": "",
    "cid": [],
    "bid": ["65312919901003083X", "653129196810050827", "653129196312200837", "653129200712150882"],
    "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=653129200712150882",
    "relation": "弟子",
    "record": ""
}]]


var json = [[{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "653122197104080092",
    "name": "玉荪·艾力",
    "fid": "b45fb109c8fe4f31b23f392f922e35bf",
    "mid": "",
    "pid": "",
    "cid": ["652801197602173131", "653221198702021256", "652801197804013136"],
    "bid": ["653122197104080092"],
    "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=653122197104080092",
    "relation": "师傅",
    "record": ""
}], [{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "652801197602173131",
    "name": "阿布力米提·吾甫尔",
    "fid": "653122197104080092",
    "mid": "",
    "pid": "",
    "cid": ["652801198602233127", "653124197109013318", "652801197602173132", "652801201106193116"],
    "bid": ["652801197602173131", "653221198702021256", "652801197804013136"],
    "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=652801197602173131",
    "relation": "弟子",
    "record": ""
},
{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "652801197804013136",
    "name": "买买提·吾甫尔",
    "fid": "653122197104080092",
    "mid": "",
    "pid": "",
    "cid": ["413026197503126612", "652801194706013112"],
    "bid": ["652801197602173131", "653221198702021256", "652801197804013136"],
    "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=652801197804013136",
    "relation": "弟子",
    "record": ""
},
{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "653221198702021256",
    "name": "艾孜布拉·艾则孜",
    "fid": "653122197104080092",
    "mid": "",
    "pid": "",
    "cid": ["652801195510153142"],
    "bid": ["652801197602173131", "653221198702021256", "652801197804013136"],
    "imgurl": "http://p1.so.qhmsg.com/t01135dca31d7299dd1.jpg",
    "relation": "弟子",
    "record": ""
}], [{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "652801197602173132",
    "name": "阿布力米提·吾甫尔",
    "fid": "652801197602173131",
    "mid": "",
    "pid": "",
    "cid": [],
    "bid": ["652801198602233127", "653124197109013318", "652801197602173132", "652801201106193116"],
    "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=652801197602173132",
    "relation": "弟子",
    "record": ""
},
{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "652801198602233127",
    "name": "古力坚乃提·吾甫尔",
    "fid": "652801197602173131",
    "mid": "",
    "pid": "",
    "cid": [],
    "bid": ["652801198602233127", "653124197109013318", "652801197602173132", "652801201106193116"],
    "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=652801198602233127",
    "relation": "弟子",
    "record": ""
},
{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "652801201106193116",
    "name": "阿不都萨拉木·依布拉音",
    "fid": "652801197602173131",
    "mid": "",
    "pid": "",
    "cid": [],
    "bid": ["652801198602233127", "653124197109013318", "652801197602173132", "652801201106193116"],
    "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=652801201106193116",
    "relation": "弟子",
    "record": ""
},
{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "653124197109013318",
    "name": "努尔买买提·打吾提",
    "fid": "652801197602173131",
    "mid": "",
    "pid": "",
    "cid": ["41052219661117523X", "653022198211280814", "653129196307050133"],
    "bid": ["652801198602233127", "653124197109013318", "652801197602173132", "652801201106193116"],
    "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=653124197109013318",
    "relation": "弟子",
    "record": ""
},
{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "413026197503126612",
    "name": "张月军",
    "fid": "652801197804013136",
    "mid": "",
    "pid": "",
    "cid": [],
    "bid": ["413026197503126612", "652801194706013112"],
    "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=413026197503126612",
    "relation": "弟子",
    "record": ""
},
{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "652801194706013112",
    "name": "啥打飞的",
    "fid": "652801197804013136",
    "mid": "",
    "pid": "",
    "cid": [],
    "bid": ["413026197503126612", "652801194706013112"],
    "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=652801194706013112",
    "relation": "弟子",
    "record": ""
},
{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "652801195510153142",
    "name": "阿瓦汗·木沙",
    "fid": "653221198702021256",
    "mid": "",
    "pid": "",
    "cid": ["653129198911050833", "653129199102070820", "653129198804030845"],
    "bid": ["652801195510153142"],
    "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=652801195510153142",
    "relation": "弟子",
    "record": ""
}], [{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "41052219661117523X",
    "name": "赶紧给",
    "fid": "653124197109013318",
    "mid": "",
    "pid": "",
    "cid": ["340322198907016828"],
    "bid": ["41052219661117523X", "653022198211280814", "653129196307050133"],
    "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=41052219661117523X",
    "relation": "弟子",
    "record": ""
},
{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "653022198211280814",
    "name": "是电风扇的",
    "fid": "653124197109013318",
    "mid": "",
    "pid": "",
    "cid": [],
    "bid": ["41052219661117523X", "653022198211280814", "653129196307050133"],
    "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=653022198211280814",
    "relation": "弟子",
    "record": ""
},
{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "653129196307050133",
    "name": "根据官方",
    "fid": "653124197109013318",
    "mid": "",
    "pid": "",
    "cid": ["652926197401203210"],
    "bid": ["41052219661117523X", "653022198211280814", "653129196307050133"],
    "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=653129196307050133",
    "relation": "弟子",
    "record": ""
},
{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "653129198804030845",
    "name": "阿尔孜古力·威力",
    "fid": "652801195510153142",
    "mid": "",
    "pid": "",
    "cid": [],
    "bid": ["653129198911050833", "653129199102070820", "653129198804030845"],
    "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=653129198804030845",
    "relation": "弟子",
    "record": ""
},
{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "653129198911050833",
    "name": "玉苏批·威力",
    "fid": "652801195510153142",
    "mid": "",
    "pid": "",
    "cid": [],
    "bid": ["653129198911050833", "653129199102070820", "653129198804030845"],
    "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=653129198911050833",
    "relation": "弟子",
    "record": ""
},
{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "653129199102070820",
    "name": "开力比努尔·威力",
    "fid": "652801195510153142",
    "mid": "",
    "pid": "",
    "cid": [],
    "bid": ["653129198911050833", "653129199102070820", "653129198804030845"],
    "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=653129199102070820",
    "relation": "弟子",
    "record": ""
}], [{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "340322198907016828",
    "name": "周思军",
    "fid": "41052219661117523X",
    "mid": "",
    "pid": "",
    "cid": [],
    "bid": ["340322198907016828"],
    "imgurl": "http://pic104.nipic.com/file/20160720/3717505_104228824245_2.jpg",
    "relation": "弟子",
    "record": ""
},
{
    "url": [],
    "usemenu": false,
    "relations": [],
    "id": "652926197401203210",
    "name": "返回 ",
    "fid": "653129196307050133",
    "mid": "",
    "pid": "",
    "cid": [],
    "bid": ["652926197401203210"],
    "imgurl": "http://p1.so.qhmsg.com/t01135dca31d7299dd1.jpg",
    "relation": "弟子",
    "record": ""
}]];

var json  = [[{
        "url": [],
        "usemenu": false,
        "id": "653126198203022234",
        "name": "艾合麦提·库尔班",
        "fid": "fbd2706469144087b5650a6983d2bdab",
        "mid": "",
        "pid": "652923197609025127",
        "cid": ["652826198203102311", "652928197612033314", "654123198311230024", "622225198711210314", "652823197904071227"],
        "bid": [],
        "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=653126198203022234",
        "relation": "父亲",
        "relations": [],
        "record": ""
    },
    {
        "id": "652923197609025127",
        "name": "再吐南木·依明",
        "record": "",
        "relation": "配偶",
        "bid": [],
        "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=652923197609025127",
        "fid": "",
        "mid": "",
        "pid": "653126198203022234",
        "cid": ["652826198203102311", "652928197612033314", "654123198311230024", "622225198711210314", "652823197904071227"]
    }], [{
        "url": [],
        "usemenu": false,
        "id": "622225198711210314",
        "name": "孙海",
        "fid": "653126198203022234",
        "mid": "652923197609025127",
        "pid": "",
        "cid": [],
        "bid": ["652826198203102311", "652928197612033314", "654123198311230024", "622225198711210314", "652823197904071227"],
        "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=622225198711210314",
        "relation": "弟弟",
        "relations": [],
        "record": "橙色_特殊群体"
    },
    {
        "url": [],
        "usemenu": false,
        "id": "652823197904071227",
        "name": "克来木汗·依明",
        "fid": "653126198203022234",
        "mid": "652923197609025127",
        "pid": "",
        "cid": [],
        "bid": ["652826198203102311", "652928197612033314", "654123198311230024", "622225198711210314", "652823197904071227"],
        "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=652823197904071227",
        "relation": "妹妹",
        "relations": [],
        "record": ""
    },
    {
        "url": [],
        "usemenu": false,
        "id": "652826198203102311",
        "name": "达吾提·库完",
        "fid": "653126198203022234",
        "mid": "652923197609025127",
        "pid": "652901198105310027",
        "cid": ["650121198502090814", "652928196705041976"],
        "bid": ["652826198203102311", "652928197612033314", "654123198311230024", "622225198711210314", "652823197904071227"],
        "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=652826198203102311",
        "relation": "户主",
        "relations": [],
        "record": ""
    },
    {
        "id": "652901198105310027",
        "name": "帕提古力阿布都热依木",
        "record": "",
        "relation": "配偶",
        "bid": "652901198105310027",
        "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=652901198105310027",
        "fid": "",
        "mid": "",
        "pid": "652826198203102311",
        "cid": ["650121198502090814", "652928196705041976"]
    },
    {
        "url": [],
        "usemenu": false,
        "id": "652928197612033314",
        "name": "阿布都热西提·阿布拉",
        "fid": "653126198203022234",
        "mid": "652923197609025127",
        "pid": "",
        "cid": [],
        "bid": ["652826198203102311", "652928197612033314", "654123198311230024", "622225198711210314", "652823197904071227"],
        "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=652928197612033314",
        "relation": "哥哥",
        "relations": [],
        "record": ""
    },
    {
        "url": [],
        "usemenu": false,
        "id": "654123198311230024",
        "name": "拉比彦·太来提",
        "fid": "653126198203022234",
        "mid": "652923197609025127",
        "pid": "",
        "cid": [],
        "bid": ["652826198203102311", "652928197612033314", "654123198311230024", "622225198711210314", "652823197904071227"],
        "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=654123198311230024",
        "relation": "姐姐",
        "relations": [],
        "record": ""
    }], [{
        "url": [],
        "usemenu": false,
        "id": "650121198502090814",
        "name": "陈军",
        "fid": "652826198203102311",
        "mid": "652901198105310027",
        "pid": "653201197408051032",
        "cid": [],
        "bid": ["650121198502090814", "652928196705041976"],
        "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=650121198502090814",
        "relation": "儿子",
        "relations": [],
        "record": ""
    },
    {
        "id": "653201197408051032",
        "name": "买塞地·斯地克",
        "record": "红色_被判刑人员",
        "relation": "配偶",
        "bid": "653201197408051032",
        "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=653201197408051032",
        "fid": "",
        "mid": "",
        "pid": "650121198502090814",
        "cid": []
    },
    {
        "url": [],
        "usemenu": false,
        "id": "652928196705041976",
        "name": "吾甫尔·阿里木",
        "fid": "652826198203102311",
        "mid": "652901198105310027",
        "pid": "",
        "cid": [],
        "bid": ["650121198502090814", "652928196705041976"],
        "imgurl": "http://127.0.0.1:8081/ITAP/servlet/back/TPckS?type=cxXP&ZJHM=652928196705041976",
        "relation": "儿子",
        "relations": [],
        "record": "红色_被击毙人员"
    }]]

var opt = {
  data : json,
  id : "genogram",
  type : "tree", //genogram, tree
  coordX : 210,   //节点x轴间距
  coordY : 310,   //节点y轴间距
  selfH : 235,    //节点高度
  imgW : 100,      //图片宽高
  saveAsPng : true,
  currentId:"1111",
  pngNameRule : "name.png",
  useVtoH : true,            //横竖排切换
  useViewRelationBtn : true, //显示按关系查看按钮
  showRelation : true, //使用关系连线
  showMenuRecords : true, //右键显示全息档案
  iconUrl : "img/an.png", //右上角icon
  offsetTop : 40,
  offsetLeft : 25,
  desc : "111dde家谱",   //家谱说明
  collec : {
    name : "采集人采集人", //采集人
    time : "2016-6-30 15:38:40"
  },
  listener : function(obj,msg){//点击事件

    // obj 点击对象, msg 对象携带的数据
    // alert(1)
  },
  menuTo :function(data,obj){ //全息档案事件
    
    console.log(data,obj)


    // console.log(obj.innerText,id)
    location.href="http://www.baidu.com/";
  },
  relationTo :function(){
    alert(1)
  }
};
var geo = new Genogram(opt);
// geo.changeDesc("aaa")
// geo.show("mask")
// geo.hide("mask")
</script> 
     
</body>  
</html> 
